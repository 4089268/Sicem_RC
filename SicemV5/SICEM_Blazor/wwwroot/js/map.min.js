function inicializarSicemMaps(o){VISOR_IMAGENES.init();try{VISOR_IMAGENES.mostrarVisor(!1)}catch(o){console.log(o)}SICEM_MAP.init(o)}function moverMapa(o){SICEM_MAP.moverMapa(o.latitud,o.longitud,19),VISOR_IMAGENES.cargarVisor(o)}const SICEM_MAP={pushpinColors:{color1:"#29BC5F",color2:"#fdd835",color3:"#C63621"},map:null,points:[],initZoom:19,init:function(o){SICEM_MAP.points=o,SICEM_MAP.cargarBingMaps()},cargarGoogleMapas:function(o,n,e,i){var a=new google.maps.LatLng(n,e),t={zoom:19,center:a,mapTypeId:google.maps.MapTypeId.ROADMAP};new google.maps.Map(document.getElementById("map"),t);const s={lat:n,lng:e};new google.maps.Marker({position:s,title:o})},cargarBingMaps:function(){var o=SICEM_MAP.points[0],n=SICEM_MAP.initZoom;SICEM_MAP.points.length>1&&(n=SICEM_MAP.initZoom-3),SICEM_MAP.map=new Microsoft.Maps.Map(document.getElementById("map"),{center:new Microsoft.Maps.Location(o.latitud,o.longitud),mapTypeId:Microsoft.Maps.MapTypeId.canvasLight,zoom:n}),Microsoft.Maps.Events.addHandler(SICEM_MAP.map,"viewrendered",SICEM_MAP.mapRenderedChanged),SICEM_MAP.points.forEach(o=>{var n=new Microsoft.Maps.Pushpin(new Microsoft.Maps.Location(o.latitud,o.longitud),{title:o.titulo,subTitle:o.subTitulo,color:SICEM_MAP.getColor(o.mesesAdeudo)});SICEM_MAP.map.entities.push(n),Microsoft.Maps.Events.addHandler(n,"click",function(){SICEM_MAP.pushpinClick(o)})})},moverMapa:function(o,n,e){SICEM_MAP.map.setView({center:new Microsoft.Maps.Location(o,n),zoom:e})},mapRenderedChanged:function(){VISOR_IMAGENES.ajustarPosision(SICEM_MAP.map)},pushpinClick:function(o){VISOR_IMAGENES.cargarVisor(o)},getColor:function(o){switch(o){case 0:case 1:case 2:return SICEM_MAP.pushpinColors.color1;case 3:case 4:case 5:return SICEM_MAP.pushpinColors.color2;default:return SICEM_MAP.pushpinColors.color3}}},VISOR_IMAGENES={visorImagen:null,visorImagenList:null,vtnCloseImage:null,listaImagenes:null,init:function(){VISOR_IMAGENES.visorImagen=document.getElementById("visorImg"),VISOR_IMAGENES.visorImagenList=document.getElementById("visorImg-list"),VISOR_IMAGENES.vtnCloseImage=document.getElementById("btn-closeImg"),VISOR_IMAGENES.visorImagenList.addEventListener("click",VISOR_IMAGENES.visorClick),VISOR_IMAGENES.vtnCloseImage.addEventListener("click",()=>VISOR_IMAGENES.mostrarVisor(!1))},ajustarPosision:function(o){var n=o.offsetLeft,e=o.offsetTop;VISOR_IMAGENES.visorImagen.style.left=n+10+"px",VISOR_IMAGENES.visorImagen.style.top=e+10+"px"},cargarVisor:function(o){VISOR_IMAGENES.visorImagenList.innerText="",VISOR_IMAGENES.obtenerImagenes(o.idOficina,o.idCuenta,n=>{if(null==n)return VISOR_IMAGENES.listaImagenes=[],void VISOR_IMAGENES.mostrarVisor(!1);if(n.length<=0)return VISOR_IMAGENES.listaImagenes=[],void VISOR_IMAGENES.mostrarVisor(!1);this.listaImagenes=n;var e=!0;VISOR_IMAGENES.listaImagenes.forEach(n=>{try{var i=`/api/Documento/${o.idOficina}/${n.id}`;const t=document.createElement("img");t.src=i+"?w=420&h=420",t.classList.add("d-block"),t.classList.add("w-100");var a=document.createElement("div");a.classList.add("carousel-caption"),a.classList.add("d-none"),a.classList.add("d-md-block"),a.innerHTML=`<h5>${n.descripcion}</h5>\n                      <div class='infoCuenta'>${o.idCuenta}-${o.razonSocial}</div>\n                      <div class='infoCuenta'>${o.localizacion}</div>\n                      <div class='infoCuenta'>${o.direccion}, ${o.colonia}</div>\n                      <div>${n.fecha}</div>`;const s=document.createElement("div");s.classList.add("carousel-item"),e&&(s.classList.add("active"),e=!1),s.appendChild(t),s.appendChild(a),VISOR_IMAGENES.visorImagenList.appendChild(s)}catch(o){console.error(o)}}),VISOR_IMAGENES.mostrarVisor(!0)})},mostrarVisor:function(o){VISOR_IMAGENES.visorImagen.style.display=o?"block":"none"},obtenerImagenes:function(o,n,e){fetch(`/api/ListaImagenes/${o}/${n}`).then(o=>{o.ok?o.json().then(o=>{e(o)}).catch(o=>{console.error(o),e(null)}):e(null)})},visorClick:function(){VISOR_IMAGENES.visorImagen.classList.toggle("agrandar")}};